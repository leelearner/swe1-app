language: python

python:
  - "3.13"
  
install:
  - pip install -r requirements.txt
  - pip install -r requirements-dev.txt

before_script:
  - python manage.py migrate
  - python manage.py collectstatic --noinput
  
script:
  - black -- check .
  - flake8 .
  - coverage run --source = ebdjango,polls manage.py test

after_success:
  - coveralls

deploy:
  provider: elasticbeanstalk
  access_key_id:
    secure: "T39p1Jmejlug1vjg/fMxlopVxWkSzTMNVb3JIxQkrMohFlhjACkRThG7gYzjev15wz8bEjlTaVOjMBGAfNrEzZCTkfVhwyLEVDLGAm5MtyeGF/mgMAf3iVd7824Bl3lv8404YKhhgWIquME2vPscpjkkk0l3YNxDj8fEQBcO5+ZupNL/gpVv4s9oOywEkWkfO0i78SYpt3UUD1Ezmh1ge9C/i6xpgUGJdiC5Hp89keOMxEFQW5hMd4WpHJ0BUXffPE5RiDkBUAcJaMzad8DSQaHgYaTh2XoFRYMOiCLrrM3I4fSJ4y5y1fP24VPNKSzUxRfIvrcbWc8gM5HwnB9J128X0pu7T8kpwPt6lmJWn0rwf1J7C/q3bQ/JI4nXNhQsIoBy3Aig5ru4gO9lYoCOC66VncKZjyfYJzXk86buZbxoHtZw3XIZyWCSbgkysrkH0jgzosnZfFrKyRjf5mwtsRsrSTbFLzMxI2RhCh0P+gJwvm/n4yk+/zrgcDIYY8kiyLz7/ap38sqfwtpIzFykXbknYgHe5Y/tuZ53GNKzwzZZZbvThxXfpiXk9tPG+wGMDEqVis3ob6x7PHuafmPc2/jEgNPSZwg8xljezj9Dcd3CW98kmTXhodd+xAvycGGuYp6mp0u2NULCN+2xb02kfUqeim81kFkEPJ4qJZ6G/H4="
  secret_access_key:
    secure: "V9OpRAIqajbq5NbKM7qHgjwRsvwMPsTlDECu8k1HRJw3Qw3wpLFiL1wqG3DIljUpI5ABdJN4Hhnqv8Gz7gZ1Kubt/cKaHT1tQrCmYn3qmQR1t7VCaYY8wk5k61GumaxO88sbKP6B7IH2s1pB2/7dzofb/p7kHECIjLKOrHT+PFlgEzVGEgYSF/PZbB0o4F/7GZbK8ntHYr4wHOWInfVzPgkztzQ0F5bSxjApEh2MPrWbmePaWnB/Ler0kdT57WVGO5U48chAM3M2dgaNMphdxCsZoXwTqhtHg32yCJ7BiWWTG1qC+Po8kSisr/QgliJJ9jMWP6p4HfrmmE0ssPEnGqWs0CUC8T+IDs7q3yLOjgspDncqGKXwKf43MUSknQgTTbO/e6OyonG/IWU8aqLiO+mCZC8PFjl1d2HBb/QrLYO3V+8No3KAcHes1ffkQ85aZlRdrZUoSugeoeMaf+AA/JiTsXdQOgPmYwl0nm5XMhyt6ngkE+nbW3IBVcjjsHJiQwgOHCk08+kXaZsVJMXvVrvYChzBf/IQTHUDhNVhvqkMRxnXvIi4OVQYdjfh8vvAA6SJpm2ZjLDX2rB7jTsRJOo8i3oLiNU6L2SScPWysf2dMDKLY8DnanVadlH3/DyenR9Ykj90W+D0sdGHaVboZG3923BiD7BSXNBZQF35if8="
  region: "us-west-2"
  app: "ebdjango"
  env: "django-env"
  bucket_name: "elasticbeanstalk-us-west-2-883450714509"
